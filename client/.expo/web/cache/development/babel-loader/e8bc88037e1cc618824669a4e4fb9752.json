{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport React, { useState } from 'react';\nimport { CasinosClubsData } from \"../../constants\";\nimport CasinosHeaderSearch from \"./CasinosHeaderSearch\";\nimport CasinoCard from \"./CasinoCard\";\nimport CasinoScreen from \"./CasinoScreen\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar CasinosFeed = function CasinosFeed() {\n  var _useState = useState(CasinosClubsData),\n      _useState2 = _slicedToArray(_useState, 2),\n      casinosData = _useState2[0],\n      setCasinosData = _useState2[1];\n\n  var _useState3 = useState(CasinosClubsData),\n      _useState4 = _slicedToArray(_useState3, 2),\n      casinosData1 = _useState4[0],\n      setCasinosData1 = _useState4[1];\n\n  var _useState5 = useState(CasinosClubsData),\n      _useState6 = _slicedToArray(_useState5, 2),\n      casinosData2 = _useState6[0],\n      setCasinosData2 = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      valueGame = _useState8[0],\n      SetValueGame = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      valuePlace = _useState10[0],\n      SetValuePlace = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      displayCasino = _useState12[0],\n      setDisplayCasino = _useState12[1];\n\n  var _useState13 = useState({\n    name: \"\",\n    machines: 0,\n    tables: 0,\n    hotel: true,\n    restaurant: true,\n    parisSportif: true,\n    poker: true,\n    horaire: [1],\n    jeux: [\"\"],\n    jeuxId: [1],\n    eventsId: [1],\n    tournoisId: [1],\n    desc: \"\",\n    region: \"\",\n    adresse: \"\",\n    id: 0\n  }),\n      _useState14 = _slicedToArray(_useState13, 2),\n      data = _useState14[0],\n      setData = _useState14[1];\n\n  var handleCasinoSearch = function handleCasinoSearch(value) {\n    SetValuePlace(String(value));\n\n    if (value.length === 0) {\n      setCasinosData1(CasinosClubsData);\n\n      if (CasinosClubsData.length === casinosData2.length) {\n        setCasinosData(CasinosClubsData);\n      } else {\n        setCasinosData(casinosData2);\n        handleGameSearch(valueGame);\n      }\n    } else {\n      var filteredData = casinosData2.filter(function (item) {\n        return item.region.toLowerCase().includes(value.toLowerCase()) || item.name.toLowerCase().includes(value.toLowerCase());\n      });\n\n      if (filteredData.length === 0) {\n        setCasinosData([]);\n      } else {\n        setCasinosData(filteredData);\n        setCasinosData1(filteredData);\n      }\n    }\n  };\n\n  var handleGameSearch = function handleGameSearch(value) {\n    SetValueGame(String(value));\n\n    if (value.length === 0) {\n      setCasinosData2(CasinosClubsData);\n\n      if (CasinosClubsData.length === casinosData1.length) {\n        setCasinosData(CasinosClubsData);\n      } else {\n        setCasinosData(casinosData1);\n        handleCasinoSearch(valuePlace);\n      }\n    } else {\n      var filteredData = casinosData1.filter(function (item) {\n        var contain = false;\n        item.jeux.map(function (game) {\n          if (game.toLowerCase().includes(value.toLowerCase())) {\n            contain = true;\n          }\n        });\n        return contain;\n      });\n\n      if (filteredData.length === 0) {\n        setCasinosData([]);\n      } else {\n        setCasinosData(filteredData);\n        setCasinosData2(filteredData);\n      }\n    }\n  };\n\n  return _jsxs(View, {\n    style: {\n      height: \"100%\"\n    },\n    children: [_jsx(View, {\n      style: {\n        height: 70\n      }\n    }), !displayCasino ? _jsx(FlatList, {\n      data: casinosData,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(CasinoCard, {\n          data: item,\n          setData: setData,\n          setDisplayCasino: setDisplayCasino\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return String(item.id);\n      },\n      showsVerticalScrollIndicator: false,\n      ListHeaderComponent: _jsx(CasinosHeaderSearch, {\n        handleCasinoSearch: handleCasinoSearch,\n        handleGameSearch: handleGameSearch\n      }),\n      ListFooterComponent: _jsx(View, {\n        style: {\n          height: 200\n        }\n      })\n    }) : _jsx(CasinoScreen, {\n      data: data,\n      setData: setData,\n      setDisplayCasino: setDisplayCasino\n    })]\n  });\n};\n\nexport default CasinosFeed;","map":{"version":3,"names":["React","useState","CasinosClubsData","CasinosHeaderSearch","CasinoCard","CasinoScreen","CasinosFeed","casinosData","setCasinosData","casinosData1","setCasinosData1","casinosData2","setCasinosData2","valueGame","SetValueGame","valuePlace","SetValuePlace","displayCasino","setDisplayCasino","name","machines","tables","hotel","restaurant","parisSportif","poker","horaire","jeux","jeuxId","eventsId","tournoisId","desc","region","adresse","id","data","setData","handleCasinoSearch","value","String","length","handleGameSearch","filteredData","filter","item","toLowerCase","includes","contain","map","game","height"],"sources":["C:/Users/Montassier Paul/Documents/casinow/client/components/CasinosScreenComponents/CasinosFeed.tsx"],"sourcesContent":["import { View, FlatList, Text} from 'react-native'\r\nimport React, {useState} from 'react'\r\nimport { CasinosClubsData } from '../../constants'\r\nimport CasinosHeaderSearch from './CasinosHeaderSearch'\r\nimport CasinoCard from './CasinoCard'\r\nimport CasinoScreen from './CasinoScreen'\r\n\r\n\r\n\r\n\r\nconst CasinosFeed = () => {\r\n\r\n \r\n\r\n  const [casinosData, setCasinosData] = useState(CasinosClubsData)\r\n  const [casinosData1, setCasinosData1] = useState(CasinosClubsData)\r\n  const [casinosData2, setCasinosData2] = useState(CasinosClubsData)\r\n  const [valueGame, SetValueGame] = useState(\"\")\r\n  const [valuePlace, SetValuePlace] = useState(\"\")\r\n\r\n  const [displayCasino, setDisplayCasino] = useState(false)\r\n\r\n  const [data, setData] = useState({\r\n    name : \"\", \r\n    machines : 0, \r\n    tables : 0, \r\n    hotel : true, \r\n    restaurant : true, \r\n    parisSportif : true, \r\n    poker : true,\r\n    horaire : [1],\r\n    jeux : [\"\"], \r\n    jeuxId : [1], \r\n    eventsId : [1], \r\n    tournoisId : [1], \r\n    desc : \"\",\r\n    region : \"\", \r\n    adresse : \"\", \r\n    id: 0\r\n\r\n  })\r\n\r\n\r\n  const handleCasinoSearch = (value : String) => {\r\n\r\n    SetValuePlace(String(value))\r\n    if (value.length === 0) {\r\n\r\n      setCasinosData1(CasinosClubsData); \r\n\r\n      if(CasinosClubsData.length === casinosData2.length) {\r\n        setCasinosData(CasinosClubsData);\r\n      }\r\n      else {\r\n        setCasinosData(casinosData2);\r\n        handleGameSearch(valueGame); \r\n      }\r\n      \r\n    }\r\n\r\n    else {\r\n\r\n    const filteredData = casinosData2.filter((item) =>\r\n      (item.region.toLowerCase().includes(value.toLowerCase()) ||\r\n      item.name.toLowerCase().includes(value.toLowerCase()))\r\n      \r\n    );\r\n\r\n    if (filteredData.length === 0) {\r\n        setCasinosData([]);\r\n\r\n    } else {\r\n        setCasinosData(filteredData);\r\n        setCasinosData1(filteredData); \r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n};\r\n\r\n  \r\n\r\n  const handleGameSearch = (value : String) => {\r\n\r\n    SetValueGame(String(value))\r\n\r\n    if (value.length === 0) {\r\n\r\n      setCasinosData2(CasinosClubsData); \r\n      if(CasinosClubsData.length === casinosData1.length) {\r\n        setCasinosData(CasinosClubsData);\r\n      }\r\n      else {\r\n        setCasinosData(casinosData1);\r\n        handleCasinoSearch(valuePlace); \r\n      }\r\n      \r\n    }\r\n\r\n    else {\r\n    const filteredData = casinosData1.filter((item) =>\r\n\r\n      {let contain = false\r\n        item.jeux.map((game) => \r\n        {\r\n          if(game.toLowerCase().includes(value.toLowerCase())){\r\n          contain = true \r\n        }\r\n      }\r\n      )\r\n      return contain\r\n      }\r\n  );\r\n\r\n\r\n\r\n    if (filteredData.length === 0) {\r\n        setCasinosData([]);\r\n\r\n    } else {\r\n      setCasinosData(filteredData);\r\n      setCasinosData2(filteredData); \r\n\r\n    }\r\n\r\n\r\n  }\r\n    \r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <View style={{\r\n      height:\"100%\"\r\n    }}>\r\n\r\n      <View style={{ height: 70}}>\r\n      </View>\r\n      {!displayCasino\r\n      ?<FlatList\r\n      data={casinosData}\r\n      renderItem={({ item }) => <CasinoCard data={item} setData={setData} setDisplayCasino={setDisplayCasino}/>}\r\n      keyExtractor={(item) => String(item.id)}\r\n      showsVerticalScrollIndicator={false}\r\n      ListHeaderComponent={<CasinosHeaderSearch handleCasinoSearch={handleCasinoSearch} handleGameSearch={handleGameSearch}/>}\r\n      ListFooterComponent={<View style={{height:200}}/>}\r\n    />\r\n\r\n      :<CasinoScreen data={data} setData={setData} setDisplayCasino={setDisplayCasino}/>\r\n\r\n      }\r\n  </View>\r\n  )\r\n}\r\n\r\nexport default CasinosFeed"],"mappings":"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"},"metadata":{},"sourceType":"module"}